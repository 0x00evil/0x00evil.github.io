---
layout: default
title: HTTP初步
---
<h1 align="center">HTTP初步</h1>
<h2>URI</h2>
<p>
URI:Uniform Resource Identifier。有两种类型的URI。
</p>
<ul>
<li>URL:Uniform Resource Location,统一资源定位符。</li>
<li>URN:</li>
</ul>
<p>几乎所有的URI都是URL。</p>
<p>大部分URL都遵循一种标准格式，这个格式包括三部分。
<ul>
<li>第一部分被称为<em>方案</em>(scheme),说明了访问资源所使用的协议类型。通常是http://。</li>
<li>第二部分给出了服务器的因特网地址，比如，www.joes-hardware.com。</li>
<li>其余部分指定了服务器上的某个资源，比如，/specials/saw-blade.gif。</li>
</ul>
<h2>媒体类型</h2>
<p>
MIME类型（MIME type）：Multipurpose Internet Mail Extension type，多用途因特网邮件扩展。
</p>
<p>Web服务器会为所有HTTP对象附加一个MIME类型。当Web浏览器从服务器中取回一个对象是，会去查看相关的MIME类型，看看他是否知道应该如何处理这个对象。
</p>
<p>
MIME类型是一种文本标记，表示一种主要的对象类型和一个特定的自类型，中间由一条斜杠来分隔。
</p>
<ul>
<li>HTML格式的文本文档由 text/html 类型来标记。</li>
<li>普通的ASCII文本文件由 text/plain 类型来标记。</li>
<li>JPEG格式的图片为 image/jpeg 类型。</li>
<li>GIF格式的图片为 image/gif 类型。</li>
<li>Apple的QuickTime电影为 video/quicktime 类型。</li>
<li>微软的PowerPoint掩饰文稿为 application/vnd.ms-powerpoint 类型。</li>
</ul>

<h2>事物</h2>
<p>
一个HTTP事物由一条（从客户端发往服务器的）请求命令和一个（从服务器发回客户端的）响应结果组成。这种通信是通过HTTP报文(HTTP message)的格式化数据进行的。
</p>
<h2>方法</h2>
<p>
HTTP支持几种不同的请求命令，这些命令被称为HTTP方法（HTTP method)。每条HTTP请求报文都包含一个方法。这个方法会告诉服务器要执行的动作（获取一个Web页面，运行一个网关程序，删除一个文件等）。
</p>
<p>常见HTTP方法：</p>
<ul>
<li>GET:从服务器向客户端发送命名资源</li>
<li>PUT:将来自客户端的数据存储到一个命名的服务器资源中。</li>
<li>DELETE:从服务器中删除命名资源。</li>
<li>POST:将客户端数据发送到一个服务器网关应用程序。</li>
<li>HEAD:仅发送命名资源响应中的HTTP首部。</li>
</ul>
<h2>状态码</h2>
<p>
每条HTTP响应报文返回时都会携带一个状态码。状态码时一个三位数字的代码，告知客户端请求成功，或者是否要采取其他动作。伴随状态码，HTTP还会发送一条解释性的“原因短语”文本。
</p>
<p>常见HTTP状态码:</p>
<ul>
<li>200:OK,文档正确返回。</li>
<li>302:Redirect（重定向）。到其他地方去获取资源。</li>
<li>404:Not Found（没找到）。无法找到这个资源。</li>
<li></li>
</ul>
<h2>报文</h2>
<p>HTTP报文包括一下三部分：</p>
<ul>
<li>起始行：报文的第一行就是起始行，在请求报文中用来说明要做些什么，在响应报文中用来说明出现了说明情况。</li>
<li>首部字段:起始行后面有零个或多个首部字段。每个字段都包含一个名字和一个值，为了便于解析，两者之间用冒号（：）来分隔。首部以一个空行结束。添加一个首部字段和添加新行一样简单。</li>
<li>主体：空行之后就是可选的报文主体了，其中包含了所有类型的数据。请求主体中包含了要发送给Web服务器的数据；响应主题中装载了要返回给客户端的数据。起始行和首部都是文本形式且都是格式化的，而主体则不同，主题中可以包含任意的二进制数据（比如图片，视频，音轨，软件程序）。当然，主体中也可以包含文本。</li>
</ul>
<h2>连接</h2>
<p>
HTTP是个应用层协议。HTTP无需关心网络通信的具体细节，它把联网的细节都交给了通用，可靠的因特网传输协议TCP/IP。
</p>
<p>TCP提供了：</p>
<ul>
<li>无差错的数据传输；</li>
<li>按序传输(数据总是会按照发送的顺序到达）；</li>
<li>未分段的数据流（可以在任意时刻以任意尺寸将数据发送出去）。</li>
</ul>
<p>具体步骤如下:</p>
<li>浏览器从URL中解析出服务器的主机名；</li>
<li>浏览器将服务器的主机名转换成服务器的IP地址；</li>
<li>浏览器将端口号（如果有的话）从URL中解析出来；</li>
<li>浏览器建立一条与Web服务器的TCP连接；</li>
<li>浏览器向服务器发送一条HTTP请求报文；</li>
<li>服务器向浏览器回送一条HTTP响应报文；</li>
<li>关闭连接，浏览器显示文档。</li>
</ul>
<h2>HTTP协议版本</h2>
<ul>
<li>HTTP/0.9:1991原型版本，只支持GET方法，不支持多媒体内容的MIME类型，各种HTTP首部，或者版本号。初衷是为了获取简单的HTML对象，它很快就被HTTP/1.0取代了。</li>
<li>HTTP/1.0:1.0是第一个得到广泛使用的HTTP版本。HTTP/1.0添加了版本号，各种HTTP首部，一些额外的方法，以及对多媒体对象的处理。这个规范未得到良好的说明。</li>
<li>HTTP/1.0+:20世界90年代中叶，添加了包括keep-live连接，虚拟主机支持，以及代理连接都被加入到HTTP之中，成为了非官方的事实标准。</li>
<li>HTTP/1.1:教正HTTP设计中的结构性缺陷，明确语义，引入重要的性能优化措施，并删除一些不好的特性。</li>
<li>HTTP-NG(有名HTTP/2.0):HTTP-NG是HTTP/1.1后继结构的原型建议，关注的重点是性能的大幅优化，以及更强大的服务逻辑远程执行框架。</li>
</ul>


